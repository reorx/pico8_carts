pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- cube
xaxis=0
yaxis=0
width=5
height=5

res=127
xrange=res-width
yrange=res-height
moveunit=2

blox=50
bloy=50
blof=0
blo_in_startf=0
blo_in_endf=3
blo_out_startf=3
blo_out_endf=8
blo_frames=15

t=0

function _update()
	t+=1
	move()
	blof=flr(t / 8) % blo_frames
end

function _draw()
	-- background
	rectfill(0,0,res,res,6)
	-- cube
	rectfill(xaxis,yaxis,xaxis+width,yaxis+height,15)
	-- block
	if blof < 3 then
		spr(blof, blox, bloy)
	elseif blof >= 3 and blof < 6 then
		spr(3, blox, bloy)
	elseif blof >= 6 then
		blo_out_f = blof - 6 + blo_out_startf
		if blo_out_f <= blo_out_endf then
			spr(blo_out_f, blox, bloy)
		end
	end

	print("t: "..t.." blof: "..blof, 2, 105, 7)
	print("xaxis: "..xaxis, 2, 113, 7)
	print("yaxis: "..yaxis, 2, 121, 7)
end

function move()
	if btn(0) then
		if xaxis > 0 then
			xaxis-=moveunit
		else
			xaxis=0
		end
	elseif btn(1) then
		if xaxis < xrange then
			xaxis+=moveunit
		else
			xaxis=xrange
		end
	elseif btn(2) then
		if yaxis > 0 then
			yaxis-=moveunit
		else
			yaxis=0
		end
	elseif btn(3) then
		if yaxis < yrange then
			yaxis+=moveunit
		else
			yaxis=yrange
		end
	end
end
__gfx__
00000000000000000800008008888880080880800008800000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000880008008800888888888888888880008800000008000008000000000000000000000000000000000000000000000000000000000000000000000
00800800008888000088880088888888080880800008800000008000000800800000800000000000000000000000000000000000000000000000000000000000
00088000088888800888888088888888888888888888888808888000000888000080000000000000000000000000000000000000000000000000000000000000
00088000088888800888888088888888888888888888888800088880008880000000080000000000000000000000000000000000000000000000000000000000
00800800008888000088880088888888080880800008800000080000080080000008000000000000000000000000000000000000000000000000000000000000
00000000000880008008800888888888888888880008800000080000000008000000000000000000000000000000000000000000000000000000000000000000
00000000000000000800008008888880080880800008800000000000000000000000000000000000000000000000000000000000000000000000000000000000
